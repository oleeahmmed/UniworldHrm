<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ employee.get_full_name }} - Complete Employee Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; }
            .shadow-lg { box-shadow: none !important; }
            .page-break { page-break-before: always; }
        }
        
        .section-header {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        }
        
        .profile-image {
            width: 150px;
            height: 180px;
            object-fit: cover;
        }
        
        .skill-tag {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }
        
        .status-active { color: #059669; }
        .status-inactive { color: #dc2626; }
        .status-pending { color: #d97706; }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="max-w-4xl mx-auto bg-white shadow-lg">
        <!-- Header Section -->
        <div class="section-header text-white p-6 relative">
            <div class="flex justify-between items-start">
                <div class="flex-1">
                    <h1 class="text-3xl font-bold mb-2 text-center">Complete Resume of</h1>
                </div>
                <!-- Employee Photo -->
                <div class="absolute top-4 right-4 border-4 border-white rounded-lg overflow-hidden">
                    {% if employee.profile_picture %}
                    <img src="{{ employee.profile_picture.url }}" alt="{{ employee.get_full_name }}" 
                         class="profile-image">
                    {% else %}
                    <div class="profile-image bg-gray-300 flex items-center justify-center">
                        <span class="text-4xl font-bold text-gray-600">{{ employee.first_name.0 }}{{ employee.last_name.0 }}</span>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Employee Name and Contact -->
        <div class="px-6 py-4 bg-gray-50">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">{{ employee.get_full_name|upper }}</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div>
                    <div><strong>Employee ID:</strong> {{ employee.employee_id }}</div>
                    <div><strong>Department:</strong> {{ employee.department.name }}</div>
                    <div><strong>Designation:</strong> {{ employee.designation.name }}</div>
                    <div><strong>Joining Date:</strong> {{ employee.joining_date|date:"F d, Y" }}</div>
                </div>
                <div>
                    <div><strong>Present Address:</strong> {{ employee.present_address }}</div>
                    <div><strong>Phone:</strong> {{ employee.phone }}</div>
                    {% if employee.mobile and employee.mobile != employee.phone %}
                    <div><strong>Mobile:</strong> {{ employee.mobile }}</div>
                    {% endif %}
                    <div><strong>Email:</strong> {{ employee.email }}</div>
                    {% if employee.personal_email and employee.personal_email != employee.email %}
                    <div><strong>Personal Email:</strong> {{ employee.personal_email }}</div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Career Objective -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Career Objective</h3>
            </div>
            <div class="px-4 text-sm text-justify leading-relaxed">
                {% if employee.bio %}
                {{ employee.bio }}
                {% else %}
                To build up my career in the reputed organization where there is immense scope to work and prove ones expertise and to maneuver positive contribution in the organization by sincerely accomplishing the duties and responsibilities assigned to me.
                {% endif %}
            </div>
        </div>

        <!-- Professional Summary -->
        {% if employee.summary %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Professional Summary</h3>
            </div>
            <div class="px-4 text-sm text-justify leading-relaxed">
                {{ employee.summary }}
            </div>
        </div>
        {% endif %}

        <!-- Current Employment Status -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Current Employment Status</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="space-y-2">
                    <div class="flex">
                        <span class="w-32 font-medium">Employee ID</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.employee_id }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Department</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.department.name }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Designation</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.designation.name }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Employment Type</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.get_employment_type_display }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Work Schedule</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.get_work_schedule_display|default:"Full Time" }}</span>
                    </div>
                </div>
                <div class="space-y-2">
                    <div class="flex">
                        <span class="w-32 font-medium">Joining Date</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.joining_date|date:"F d, Y" }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Probation End</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.probation_end_date|date:"F d, Y"|default:"N/A" }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Contract End</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.contract_end_date|date:"F d, Y"|default:"Permanent" }}</span>
                    </div>
                    <div class="flex">
                        <span class="w-32 font-medium">Status</span>
                        <span class="mr-2">:</span>
                        <span class="{% if employee.is_active %}status-active{% else %}status-inactive{% endif %} font-medium">
                            {% if employee.is_active %}Active{% else %}Inactive{% endif %}
                        </span>
                    </div>
                    {% if employee.salary %}
                    <div class="flex">
                        <span class="w-32 font-medium">Current Salary</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.salary|floatformat:0 }} {{ employee.currency|default:"BDT" }}</span>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Academic Qualification -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Academic Qualification</h3>
            </div>
            
            {% if education_qualifications %}
            {% for qualification in education_qualifications %}
            <div class="mb-6">
                <div class="bg-gray-200 px-3 py-1 mb-2">
                    <strong>{{ qualification.education_level.name }}:</strong>
                </div>
                
                <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="space-y-1">
                        <div class="flex">
                            <span class="w-24 font-medium">Institute</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.institution_name }}</span>
                        </div>
                        <div class="flex">
                            <span class="w-24 font-medium">Field/Group</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.field_of_study|default:"General" }}</span>
                        </div>
                        <div class="flex">
                            <span class="w-24 font-medium">Duration</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.start_date|date:"Y" }} - {{ qualification.end_date|date:"Y" }}</span>
                        </div>
                    </div>
                    <div class="space-y-1">
                        {% if qualification.grade %}
                        <div class="flex">
                            <span class="w-24 font-medium">Result</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.grade }} ({{ qualification.get_result_display }})</span>
                        </div>
                        {% endif %}
                        <div class="flex">
                            <span class="w-24 font-medium">Board</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.board|default:"N/A" }}</span>
                        </div>
                        {% if qualification.achievements %}
                        <div class="flex">
                            <span class="w-24 font-medium">Achievements</span>
                            <span class="mr-2">:</span>
                            <span>{{ qualification.achievements }}</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="px-4 text-sm text-gray-600">
                No academic qualifications recorded.
            </div>
            {% endif %}
        </div>

        <!-- Professional Experience -->
        {% if job_experiences %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Professional Experience</h3>
            </div>
            
            {% for experience in job_experiences %}
            <div class="mb-6 px-4">
                <div class="bg-gray-100 px-4 py-3 mb-3 rounded">
                    <div class="flex justify-between items-start">
                        <div>
                            <h4 class="font-bold text-lg">{{ experience.job_title }}</h4>
                            <p class="text-blue-600 font-medium">{{ experience.company_name }}</p>
                            {% if experience.location %}
                            <p class="text-sm text-gray-600">{{ experience.location }}</p>
                            {% endif %}
                        </div>
                        <div class="text-right text-sm">
                            <div class="font-medium">{{ experience.start_date|date:"M Y" }} - {{ experience.end_date|date:"M Y"|default:"Present" }}</div>
                            {% if experience.salary %}
                            <div class="text-gray-600">Salary: {{ experience.salary|floatformat:0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                {% if experience.job_description %}
                <div class="text-sm text-justify px-2 mb-2">
                    <strong>Job Description:</strong><br>
                    {{ experience.job_description }}
                </div>
                {% endif %}
                
                {% if experience.key_achievements %}
                <div class="text-sm px-2 mb-2">
                    <strong>Key Achievements:</strong><br>
                    {{ experience.key_achievements }}
                </div>
                {% endif %}
                
                {% if experience.technologies_used %}
                <div class="text-sm px-2">
                    <strong>Technologies Used:</strong><br>
                    <div class="flex flex-wrap gap-2 mt-1">
                        {% for tech in experience.technologies_used %}
                        <span class="skill-tag text-white px-2 py-1 rounded text-xs">{{ tech }}</span>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Skills & Competencies -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Skills & Competencies</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Technical Skills -->
                <div>
                    <h4 class="font-bold text-sm mb-3 text-blue-600">Technical Skills</h4>
                    <div class="space-y-2">
                        {% if employee.skills %}
                        <div class="flex flex-wrap gap-2">
                            <span class="skill-tag text-white px-3 py-1 rounded text-sm">Microsoft Office Suite</span>
                            <span class="skill-tag text-white px-3 py-1 rounded text-sm">Data Analysis</span>
                            <span class="skill-tag text-white px-3 py-1 rounded text-sm">Project Management</span>
                            <span class="skill-tag text-white px-3 py-1 rounded text-sm">{{ employee.skills }}</span>
                        </div>
                        {% else %}
                        <ul class="text-sm space-y-1">
                            <li>‚Ä¢ Microsoft Word, Excel, PowerPoint</li>
                            <li>‚Ä¢ Database Management</li>
                            <li>‚Ä¢ Internet Research</li>
                            <li>‚Ä¢ Data Entry & Analysis</li>
                        </ul>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Soft Skills -->
                <div>
                    <h4 class="font-bold text-sm mb-3 text-blue-600">Soft Skills</h4>
                    <ul class="text-sm space-y-1">
                        <li>‚Ä¢ Leadership & Team Management</li>
                        <li>‚Ä¢ Communication & Presentation</li>
                        <li>‚Ä¢ Problem Solving</li>
                        <li>‚Ä¢ Time Management</li>
                        <li>‚Ä¢ Adaptability</li>
                        <li>‚Ä¢ Critical Thinking</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Language Proficiency -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Language Proficiency</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <ul class="space-y-2 text-sm">
                        <li class="flex justify-between">
                            <span>‚Ä¢ Bengali (Native)</span>
                            <span class="text-green-600 font-medium">Excellent</span>
                        </li>
                        <li class="flex justify-between">
                            <span>‚Ä¢ English</span>
                            <span class="text-blue-600 font-medium">Good</span>
                        </li>
                        {% if employee.languages_spoken %}
                        <li class="flex justify-between">
                            <span>‚Ä¢ {{ employee.languages_spoken }}</span>
                            <span class="text-blue-600 font-medium">Good</span>
                        </li>
                        {% endif %}
                    </ul>
                </div>
                <div class="text-sm">
                    <div class="bg-gray-50 p-3 rounded">
                        <strong>Communication Skills:</strong><br>
                        ‚Ä¢ Excellent written and verbal communication<br>
                        ‚Ä¢ Presentation and public speaking<br>
                        ‚Ä¢ Cross-cultural communication<br>
                        ‚Ä¢ Client relationship management
                    </div>
                </div>
            </div>
        </div>

        <!-- Certifications & Training -->
        {% if certifications %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Certifications & Training</h3>
            </div>
            
            <div class="px-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {% for cert in certifications %}
                    <div class="border border-gray-200 p-4 rounded">
                        <h4 class="font-bold text-sm">{{ cert.name }}</h4>
                        <p class="text-sm text-blue-600">{{ cert.issuing_organization }}</p>
                        <p class="text-xs text-gray-600">{{ cert.issue_date|date:"M Y" }} - {{ cert.expiry_date|date:"M Y"|default:"No Expiry" }}</p>
                        {% if cert.credential_id %}
                        <p class="text-xs">ID: {{ cert.credential_id }}</p>
                        {% endif %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Personal Details -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Personal Details</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="space-y-2 text-sm">
                    {% if employee.father_name %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Father's Name</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.father_name }}</span>
                    </div>
                    {% endif %}
                    
                    {% if employee.mother_name %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Mother's Name</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.mother_name }}</span>
                    </div>
                    {% endif %}
                    
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Date of Birth</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.date_of_birth|date:"jS F Y" }}</span>
                    </div>
                    
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Age</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.age }} years</span>
                    </div>
                    
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Gender</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.get_gender_display }}</span>
                    </div>
                    
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Marital Status</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.get_marital_status_display }}</span>
                    </div>
                </div>
                
                <div class="space-y-2 text-sm">
                    {% if employee.religion %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Religion</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.religion }}</span>
                    </div>
                    {% endif %}
                    
                    {% if employee.nationality %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Nationality</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.nationality }}</span>
                    </div>
                    {% endif %}
                    
                    {% if employee.blood_group %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Blood Group</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.blood_group }}</span>
                    </div>
                    {% endif %}
                    
                    {% if employee.national_id %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ National ID</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.national_id }}</span>
                    </div>
                    {% endif %}
                    
                    {% if employee.passport_number %}
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Passport No</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.passport_number }}</span>
                    </div>
                    {% endif %}
                    
                    <div class="flex">
                        <span class="w-32">‚Ä¢ Permanent Address</span>
                        <span class="mr-2">:</span>
                        <span>{{ employee.permanent_address|default:"Same as Present" }}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Family Information -->
        {% if family_members %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Family Information</h3>
            </div>
            
            <div class="px-4">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border border-gray-300 px-3 py-2 text-left">Name</th>
                                <th class="border border-gray-300 px-3 py-2 text-left">Relationship</th>
                                <th class="border border-gray-300 px-3 py-2 text-left">Age</th>
                                <th class="border border-gray-300 px-3 py-2 text-left">Occupation</th>
                                <th class="border border-gray-300 px-3 py-2 text-left">Contact</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for member in family_members %}
                            <tr>
                                <td class="border border-gray-300 px-3 py-2">{{ member.name }}</td>
                                <td class="border border-gray-300 px-3 py-2">{{ member.get_relationship_display }}</td>
                                <td class="border border-gray-300 px-3 py-2">{{ member.age|default:"-" }}</td>
                                <td class="border border-gray-300 px-3 py-2">{{ member.occupation|default:"-" }}</td>
                                <td class="border border-gray-300 px-3 py-2">{{ member.phone|default:"-" }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Emergency Contact -->
        {% if employee.emergency_contact_name %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Emergency Contact</h3>
            </div>
            
            <div class="px-4 bg-red-50 p-4 rounded border-l-4 border-red-500">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="space-y-1">
                        <div class="flex">
                            <span class="w-24 font-medium">Name</span>
                            <span class="mr-2">:</span>
                            <span class="font-bold">{{ employee.emergency_contact_name }}</span>
                        </div>
                        {% if employee.emergency_contact_relationship %}
                        <div class="flex">
                            <span class="w-24 font-medium">Relationship</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.emergency_contact_relationship }}</span>
                        </div>
                        {% endif %}
                    </div>
                    <div class="space-y-1">
                        {% if employee.emergency_contact_phone %}
                        <div class="flex">
                            <span class="w-24 font-medium">Phone</span>
                            <span class="mr-2">:</span>
                            <span class="font-bold">{{ employee.emergency_contact_phone }}</span>
                        </div>
                        {% endif %}
                        {% if employee.emergency_contact_address %}
                        <div class="flex">
                            <span class="w-24 font-medium">Address</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.emergency_contact_address }}</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Bank & Financial Information -->
        {% if employee.bank_name or employee.account_number %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Bank & Financial Information</h3>
            </div>
            
            <div class="px-4 bg-green-50 p-4 rounded border-l-4 border-green-500">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="space-y-1">
                        {% if employee.bank_name %}
                        <div class="flex">
                            <span class="w-32 font-medium">Bank Name</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.bank_name }}</span>
                        </div>
                        {% endif %}
                        {% if employee.account_number %}
                        <div class="flex">
                            <span class="w-32 font-medium">Account Number</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.account_number }}</span>
                        </div>
                        {% endif %}
                    </div>
                    <div class="space-y-1">
                        {% if employee.routing_number %}
                        <div class="flex">
                            <span class="w-32 font-medium">Routing Number</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.routing_number }}</span>
                        </div>
                        {% endif %}
                        {% if employee.tax_id %}
                        <div class="flex">
                            <span class="w-32 font-medium">Tax ID</span>
                            <span class="mr-2">:</span>
                            <span>{{ employee.tax_id }}</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Documents & Attachments -->
        {% if documents %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Documents & Attachments</h3>
            </div>
            
            <div class="px-4">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {% for document in documents %}
                    <div class="border border-gray-200 p-4 rounded hover:shadow-md transition-shadow">
                        <div class="flex items-start justify-between mb-2">
                            <h4 class="font-medium text-sm">{{ document.document_name }}</h4>
                            <span class="text-xs px-2 py-1 rounded 
                                {% if document.status == 'approved' %}bg-green-100 text-green-800
                                {% elif document.status == 'pending' %}bg-yellow-100 text-yellow-800
                                {% else %}bg-red-100 text-red-800{% endif %}">
                                {{ document.get_status_display }}
                            </span>
                        </div>
                        <p class="text-xs text-gray-600 mb-2">{{ document.document_type.name }}</p>
                        {% if document.upload_date %}
                        <p class="text-xs text-gray-500">Uploaded: {{ document.upload_date|date:"M d, Y" }}</p>
                        {% endif %}
                        {% if document.expiry_date %}
                        <p class="text-xs text-gray-500">Expires: {{ document.expiry_date|date:"M d, Y" }}</p>
                        {% endif %}
                        {% if document.document_file %}
                        <a href="{{ document.document_file.url }}" target="_blank" 
                           class="text-xs text-blue-600 hover:underline mt-2 inline-block">View Document</a>
                        {% endif %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Performance & Reviews -->
        {% if performance_reviews %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Performance Reviews</h3>
            </div>
            
            <div class="px-4">
                {% for review in performance_reviews %}
                <div class="mb-4 p-4 border border-gray-200 rounded">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold">{{ review.review_period }}</h4>
                        <span class="text-sm font-medium px-3 py-1 rounded
                            {% if review.overall_rating >= 4 %}bg-green-100 text-green-800
                            {% elif review.overall_rating >= 3 %}bg-blue-100 text-blue-800
                            {% else %}bg-yellow-100 text-yellow-800{% endif %}">
                            {{ review.overall_rating }}/5
                        </span>
                    </div>
                    {% if review.strengths %}
                    <p class="text-sm mb-2"><strong>Strengths:</strong> {{ review.strengths }}</p>
                    {% endif %}
                    {% if review.areas_for_improvement %}
                    <p class="text-sm"><strong>Areas for Improvement:</strong> {{ review.areas_for_improvement }}</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Professional References -->
        {% if references %}
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Professional References</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                {% for reference in references %}
                <div class="border border-gray-200 p-4 rounded">
                    <h4 class="font-bold text-sm">{{ reference.name }}</h4>
                    <p class="text-sm text-blue-600">{{ reference.designation }}</p>
                    <p class="text-sm">{{ reference.company }}</p>
                    <p class="text-xs text-gray-600 mt-2">{{ reference.phone }}</p>
                    <p class="text-xs text-gray-600">{{ reference.email }}</p>
                    {% if reference.relationship %}
                    <p class="text-xs mt-1"><strong>Relationship:</strong> {{ reference.relationship }}</p>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- Additional Information -->
        <div class="mx-6 mt-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Additional Information</h3>
            </div>
            
            <div class="px-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Hobbies & Interests -->
                <div>
                    <h4 class="font-bold text-sm mb-2 text-blue-600">Hobbies & Interests</h4>
                    {% if employee.hobbies %}
                    <p class="text-sm">{{ employee.hobbies }}</p>
                    {% else %}
                    <ul class="text-sm space-y-1">
                        <li>‚Ä¢ Reading books and articles</li>
                        <li>‚Ä¢ Technology and innovation</li>
                        <li>‚Ä¢ Sports and fitness</li>
                        <li>‚Ä¢ Traveling and exploring</li>
                    </ul>
                    {% endif %}
                </div>
                
                <!-- Professional Memberships -->
                <div>
                    <h4 class="font-bold text-sm mb-2 text-blue-600">Professional Memberships</h4>
                    {% if employee.professional_memberships %}
                    <p class="text-sm">{{ employee.professional_memberships }}</p>
                    {% else %}
                    <p class="text-sm text-gray-600">No professional memberships recorded.</p>
                    {% endif %}
                </div>
            </div>
            
            <!-- Social Media & Professional Links -->
            {% if employee.linkedin_profile or employee.github_profile or employee.portfolio_website %}
            <div class="mt-6">
                <h4 class="font-bold text-sm mb-3 text-blue-600">Professional Links</h4>
                <div class="flex flex-wrap gap-4">
                    {% if employee.linkedin_profile %}
                    <a href="{{ employee.linkedin_profile }}" target="_blank" 
                       class="text-sm text-blue-600 hover:underline">LinkedIn Profile</a>
                    {% endif %}
                    {% if employee.github_profile %}
                    <a href="{{ employee.github_profile }}" target="_blank" 
                       class="text-sm text-blue-600 hover:underline">GitHub Profile</a>
                    {% endif %}
                    {% if employee.portfolio_website %}
                    <a href="{{ employee.portfolio_website }}" target="_blank" 
                       class="text-sm text-blue-600 hover:underline">Portfolio Website</a>
                    {% endif %}
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Declaration -->
        <div class="mx-6 mt-6 mb-6">
            <div class="section-header text-white px-4 py-2 mb-4">
                <h3 class="text-lg font-bold">Declaration</h3>
            </div>
            
            <div class="px-4 text-sm text-justify">
                <p class="mb-4">
                    I hereby declare that all the information furnished above is true to the best of my knowledge and belief. 
                    I understand that any false information may lead to rejection of my candidature or termination of employment.
                </p>
                
                <div class="flex justify-between items-end mt-8">
                    <div>
                        <p class="mb-2">Date: {{ today|date:"F d, Y" }}</p>
                        <p>Place: {{ employee.present_address|truncatewords:2 }}</p>
                    </div>
                    <div class="text-right">
                        <div class="border-b border-gray-400 w-48 mb-2"></div>
                        <p class="font-bold">{{ employee.get_full_name }}</p>
                        <p class="text-xs">{{ employee.designation.name }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Print Button -->
        <div class="mx-6 mb-6 no-print flex gap-4">
            <button onclick="window.print()" 
                    class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded shadow transition-colors">
                üñ®Ô∏è Print Resume
            </button>
            <button onclick="exportToPDF()" 
                    class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded shadow transition-colors">
                üìÑ Export PDF
            </button>
            <button onclick="window.history.back()" 
                    class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded shadow transition-colors">
                ‚Üê Back
            </button>
        </div>
    </div>

    <script>
        // Print functionality
        window.addEventListener('beforeprint', function() {
            document.body.classList.add('print-mode');
        });

        window.addEventListener('afterprint', function() {
            document.body.classList.remove('print-mode');
        });

        // PDF Export (placeholder - would need server-side implementation)
        function exportToPDF() {
            alert('PDF export functionality would be implemented server-side.');
        }

        // Smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
